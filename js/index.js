/*!
* mustache.js - Logic-less {{mustache}} templates with JavaScript
* http://github.com/janl/mustache.js
*/
var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function n(e){return"function"==typeof e}function a(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(e,t){return null!=e&&"object"==typeof e&&t in e}var o=RegExp.prototype.test;var i=/\S/;function l(e){return!function(e,t){return o.call(e,t)}(i,e)}var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var c=/\s*/,u=/\s+/,d=/\s*=/,p=/\s*\}/,h=/#|\^|\/|>|\{|&|=|!/;function f(e){this.string=e,this.tail=e,this.pos=0}function v(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function g(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}f.prototype.eos=function(){return""===this.tail},f.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},f.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},v.prototype.push=function(e){return new v(e,this)},v.prototype.lookup=function(e){var t,a,o,i=this.cache;if(i.hasOwnProperty(e))t=i[e];else{for(var l,s,c,u=this,d=!1;u;){if(e.indexOf(".")>0)for(l=u.view,s=e.split("."),c=0;null!=l&&c<s.length;)c===s.length-1&&(d=r(l,s[c])||(a=l,o=s[c],null!=a&&"object"!=typeof a&&a.hasOwnProperty&&a.hasOwnProperty(o))),l=l[s[c++]];else l=u.view[e],d=r(u.view,e);if(d){t=l;break}u=u.parent}i[e]=t}return n(t)&&(t=t.call(this.view)),t},g.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},g.prototype.parse=function(e,n){var r=this.templateCache,o=e+":"+(n||m.tags).join(":"),i=void 0!==r,s=i?r.get(o):void 0;return null==s&&(s=function(e,n){if(!e)return[];var r,o,i,s=!1,v=[],g=[],y=[],b=!1,w=!1,C="",k=0;function T(){if(b&&!w)for(;y.length;)delete g[y.pop()];else y=[];b=!1,w=!1}function H(e){if("string"==typeof e&&(e=e.split(u,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);r=new RegExp(a(e[0])+"\\s*"),o=new RegExp("\\s*"+a(e[1])),i=new RegExp("\\s*"+a("}"+e[1]))}H(n||m.tags);for(var x,E,M,B,I,$,L=new f(e);!L.eos();){if(x=L.pos,M=L.scanUntil(r))for(var j=0,V=M.length;j<V;++j)l(B=M.charAt(j))?(y.push(g.length),C+=B):(w=!0,s=!0,C+=" "),g.push(["text",B,x,x+1]),x+=1,"\n"===B&&(T(),C="",k=0,s=!1);if(!L.scan(r))break;if(b=!0,E=L.scan(h)||"name",L.scan(c),"="===E?(M=L.scanUntil(d),L.scan(d),L.scanUntil(o)):"{"===E?(M=L.scanUntil(i),L.scan(p),L.scanUntil(o),E="&"):M=L.scanUntil(o),!L.scan(o))throw new Error("Unclosed tag at "+L.pos);if(I=">"==E?[E,M,x,L.pos,C,k,s]:[E,M,x,L.pos],k++,g.push(I),"#"===E||"^"===E)v.push(I);else if("/"===E){if(!($=v.pop()))throw new Error('Unopened section "'+M+'" at '+x);if($[1]!==M)throw new Error('Unclosed section "'+$[1]+'" at '+x)}else"name"===E||"{"===E||"&"===E?w=!0:"="===E&&H(M)}if(T(),$=v.pop())throw new Error('Unclosed section "'+$[1]+'" at '+L.pos);return function(e){for(var t,n=[],a=n,r=[],o=0,i=e.length;o<i;++o)switch((t=e[o])[0]){case"#":case"^":a.push(t),r.push(t),a=t[4]=[];break;case"/":r.pop()[5]=t[2],a=r.length>0?r[r.length-1][4]:n;break;default:a.push(t)}return n}(function(e){for(var t,n,a=[],r=0,o=e.length;r<o;++r)(t=e[r])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(a.push(t),n=t));return a}(g))}(e,n),i&&r.set(o,s)),s},g.prototype.render=function(e,t,n,a){var r=this.getConfigTags(a),o=this.parse(e,r),i=t instanceof v?t:new v(t,void 0);return this.renderTokens(o,i,n,e,a)},g.prototype.renderTokens=function(e,t,n,a,r){for(var o,i,l,s="",c=0,u=e.length;c<u;++c)l=void 0,"#"===(i=(o=e[c])[0])?l=this.renderSection(o,t,n,a,r):"^"===i?l=this.renderInverted(o,t,n,a,r):">"===i?l=this.renderPartial(o,t,n,r):"&"===i?l=this.unescapedValue(o,t):"name"===i?l=this.escapedValue(o,t,r):"text"===i&&(l=this.rawValue(o)),void 0!==l&&(s+=l);return s},g.prototype.renderSection=function(e,a,r,o,i){var l=this,s="",c=a.lookup(e[1]);if(c){if(t(c))for(var u=0,d=c.length;u<d;++u)s+=this.renderTokens(e[4],a.push(c[u]),r,o,i);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)s+=this.renderTokens(e[4],a.push(c),r,o,i);else if(n(c)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(a.view,o.slice(e[3],e[5]),(function(e){return l.render(e,a,r,i)})))&&(s+=c)}else s+=this.renderTokens(e[4],a,r,o,i);return s}},g.prototype.renderInverted=function(e,n,a,r,o){var i=n.lookup(e[1]);if(!i||t(i)&&0===i.length)return this.renderTokens(e[4],n,a,r,o)},g.prototype.indentPartial=function(e,t,n){for(var a=t.replace(/[^ \t]/g,""),r=e.split("\n"),o=0;o<r.length;o++)r[o].length&&(o>0||!n)&&(r[o]=a+r[o]);return r.join("\n")},g.prototype.renderPartial=function(e,t,a,r){if(a){var o=this.getConfigTags(r),i=n(a)?a(e[1]):a[e[1]];if(null!=i){var l=e[6],s=e[5],c=e[4],u=i;0==s&&c&&(u=this.indentPartial(i,c,l));var d=this.parse(u,o);return this.renderTokens(d,t,a,u,r)}}},g.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},g.prototype.escapedValue=function(e,t,n){var a=this.getConfigEscape(n)||m.escape,r=t.lookup(e[1]);if(null!=r)return"number"==typeof r&&a===m.escape?String(r):a(r)},g.prototype.rawValue=function(e){return e[1]},g.prototype.getConfigTags=function(e){return t(e)?e:e&&"object"==typeof e?e.tags:void 0},g.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!t(e)?e.escape:void 0};var m={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){y.templateCache=e},get templateCache(){return y.templateCache}},y=new g;m.clearCache=function(){return y.clearCache()},m.parse=function(e,t){return y.parse(e,t)},m.render=function(e,n,a,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+((t(o=e)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)'));var o;return y.render(e,n,a,r)},m.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return s[e]}))},m.Scanner=f,m.Context=v,m.Writer=g;const b={click:{},change:{},keyup:{}};b.click.addColumn=()=>{T.columns>=10&&w.alert("Having more than 10 columns is not recommended."),T.addColumn(),T.updateInterface(["Header","Body"])},b.click.addRow=()=>{T.rows>=30&&w.alert("Tables this large can be difficult to read. Consider using multiple tables instead."),T.addRow(),T.updateInterface(["Body"])},b.click.removeColumn=e=>{if(1===T.columns)return w.warning("You must have at least 1 column.");T.removeColumn(e.dataset.column),T.updateInterface(["Header","Body"])},b.click.removeRow=e=>{if(1===T.rows)return w.warning("You must have at least 1 row.");T.removeRow(e.dataset.row),T.updateInterface(["Body"])},b.change.syncHeading=e=>{let t=e.dataset.location.split(",");T.updateTableHead(t[1],e.value),T.updateInterface(["Header"])},b.change.syncValue=e=>{let t=e.dataset.location.split(",");T.updateTableBody(t[0],t[1],e.value),T.updateInterface()},b.keyup.syncCaption=e=>{T.caption=e.value,T.updateInterface(["Caption"])},b.click.getHtmlCode=e=>{let t=`<textarea class='embed'>${T.htmlOutput}</textarea>`;w.modal(t)},b.click.previewTable=()=>{w.modal(T.htmlOutput)},b.keyup.syncDefaultValue=e=>{T.defaultNewValue=e.value};const w={};w.get={innerHTML:e=>e.innerHTML,textContent:e=>e.textContent,value:e=>e.value,template:e=>{let t=`[data-for='${e.id||e.name}']`,n=document.querySelector(t).innerHTML;return m.render(n,k)}},w.set={innerHTML:(e,t)=>(e.innerHTML=t,`target HTML is now ${t}`),textContent:(e,t)=>(e.textContent=t,`target text is now ${t}`),value:(e,t)=>(e.value=t,`target value is now ${t}`)},w.add={innerHTML:(e,t)=>{e.innerHTML=e.innerHTML+t},textContent:(e,t)=>{e.textContent=e.textContent+t},value:(e,t)=>{e.value=e.value+t}};const C=()=>{var e;null===(e=document.getElementById("ModalWrapper"))||void 0===e||e.remove()};w.modal=e=>{b.click.closeModal=b.click.closeModal||C;let t=`<div data-click="closeModal" id="ModalContent">${e}</div>`,n=document.createElement("div");n.id="ModalWrapper",n.dataset.click="closeModal",n.innerHTML=t,document.body.appendChild(n)},w.alert=e=>{let t=`<div id="Alert">${e}<hr><button data-click="closeModal">Okay</button></div>`;w.modal(t)},w.warning=e=>{let t=`<div id="Warning">${e}<hr><button data-click="closeModal">Okay</button></div>`;return w.modal(t),!1};const k={};exports.pageContext=k;const T=new class{constructor(e){this.tableId=e,this.caption="Table Caption",this.tableHeading=["heading"],this.tableBody=[["value"]],this.defaultNewValue="New Value"}get element(){return document.getElementById(this.tableId)}get columns(){return this.tableHeading.length}get rows(){return this.tableBody.length}get tdTemplate(){var e;let t=`.td[data-template-for="${this.tableId}"]`;return null===(e=document.querySelector(t))||void 0===e?void 0:e.innerHTML}get thTemplate(){return this.tdTemplate.replace("<td","<th").replace("td>","th>")}addColumn(){this.tableHeading.push("New Heading"),this.tableBody.forEach(((e,t)=>{e.push(this.defaultNewValue)}))}addRow(){let e=[];this.tableHeading.forEach(((t,n)=>{e.push(this.defaultNewValue)})),this.tableBody.push(e)}removeColumn(e){this.tableHeading.splice(e,1),this.tableBody.forEach(((t,n)=>{t.splice(e,1)}))}removeRow(e){this.tableBody.splice(e,1)}get htmlOutput(){let e=this.tableHeading.map((e=>`\n           <th>${e}</th>`)).join(" "),t="";return this.tableBody.forEach((e=>{t+="\n      <tr>"+e.map((e=>`\n         <td>${e}</td>`)).join(" ")+"\n     </tr>"})),` \n<table>\n    <caption>${this.caption}</caption>\n    <thead>\n        <tr>${e}\n        </tr>\n    </thead>\n    <tbody>${t}\n    </tbody>\n</table>`}updateInterface(e){var t;let n=performance.now();const a={Caption:()=>{this.element.querySelector("caption").textContent=this.caption},Header:()=>{let e=this.tableHeading.map(((e,t)=>{let n={column:t,row:0,value:e,type:"Heading",first:!1};return m.render(this.thTemplate,n)})).join("");this.element.querySelector("thead").innerHTML=e},Body:()=>{let e="";this.tableBody.forEach(((t,n)=>{e+="<tr>",e+=t.map(((e,t)=>{let a={column:t,row:n,value:e,type:"Value"};return a.first=0==t,m.render(this.tdTemplate,a)})).join(""),e+="</tr>"})),this.element.querySelector("tbody").innerHTML=e}};let r=0,o=(e=null!==(t=e)&&void 0!==t?t:["Caption","Header","Body"]).length;for(;r<o;r++){var i;let t=null===(i=e)||void 0===i?void 0:i[r];(null==a?void 0:a[t]).bind(this).call()}let l=performance.now()-n;console.log(`Interface Update took ${l} ms.`),l>50&&w.alert("The performance of this application is lower than normal. This table may be too large.")}updateTableHead(e,t){var n;null!==(n=this.tableHeading)&&void 0!==n&&n[e]&&(this.tableHeading[e]=t)}updateTableBody(e,t,n){var a,r;null!==(a=this.tableBody)&&void 0!==a&&null!==(r=a[e])&&void 0!==r&&r[t]&&(this.tableBody[e][t]=n)}}("MainTable");exports.mainTable=T,window._mainTable=T,document.body.addEventListener("keyup",(e=>{var t,n;let a=e.target;null===(t=(n=b.keyup)[a.dataset.keyup])||void 0===t||t.call(n,a,e)})),document.body.addEventListener("change",(e=>{var t,n;let a=e.target;null===(t=(n=b.change)[a.dataset.change])||void 0===t||t.call(n,a,e)})),document.body.addEventListener("click",(e=>{var t,n;let a=e.target;null===(t=(n=b.click)[a.dataset.click])||void 0===t||t.call(n,a,e)})),document.body.onload=()=>{T.updateInterface()},window._pageContext=k;
//# sourceMappingURL=index.js.map
