function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire83a6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire83a6=a),a.register("hqokU",(function(t,n){var r,a;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var o={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},a=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("1kMMC",(function(e,t){e.exports=import("./"+a("hqokU").resolve("eVdPX")).then((()=>a("3k38T")))})),a("hqokU").register(JSON.parse('{"6M4Po":"index.44a8a3cd.js","eVdPX":"setup_gadget.353a4a4c.js"}'));
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
var o=Object.prototype.toString,l=Array.isArray||function(e){return"[object Array]"===o.call(e)};function i(e){return"function"==typeof e}function s(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function u(e,t){return null!=e&&"object"==typeof e&&t in e}var c=RegExp.prototype.test;var d=/\S/;function h(e){return!function(e,t){return c.call(e,t)}(d,e)}var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var f=/\s*/,v=/\s+/,m=/\s*=/,g=/\s*\}/,y=/#|\^|\/|>|\{|&|=|!/;function b(e){this.string=e,this.tail=e,this.pos=0}function w(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function C(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}b.prototype.eos=function(){return""===this.tail},b.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},b.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},w.prototype.push=function(e){return new w(e,this)},w.prototype.lookup=function(e){var t,n,r,a=this.cache;if(a.hasOwnProperty(e))t=a[e];else{for(var o,l,s,c=this,d=!1;c;){if(e.indexOf(".")>0)for(o=c.view,l=e.split("."),s=0;null!=o&&s<l.length;)s===l.length-1&&(d=u(o,l[s])||(n=o,r=l[s],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(r))),o=o[l[s++]];else o=c.view[e],d=u(c.view,e);if(d){t=o;break}c=c.parent}a[e]=t}return i(t)&&(t=t.call(this.view)),t},C.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},C.prototype.parse=function(e,t){var n=this.templateCache,r=e+":"+(t||k.tags).join(":"),a=void 0!==n,o=a?n.get(r):void 0;return null==o&&(o=function(e,t){if(!e)return[];var n,r,a,o=!1,i=[],u=[],c=[],d=!1,p=!1,w="",C=0;function T(){if(d&&!p)for(;c.length;)delete u[c.pop()];else c=[];d=!1,p=!1}function x(e){if("string"==typeof e&&(e=e.split(v,2)),!l(e)||2!==e.length)throw new Error("Invalid tags: "+e);n=new RegExp(s(e[0])+"\\s*"),r=new RegExp("\\s*"+s(e[1])),a=new RegExp("\\s*"+s("}"+e[1]))}x(t||k.tags);for(var H,E,M,I,L,B,S=new b(e);!S.eos();){if(H=S.pos,M=S.scanUntil(n))for(var R=0,V=M.length;R<V;++R)h(I=M.charAt(R))?(c.push(u.length),w+=I):(p=!0,o=!0,w+=" "),u.push(["text",I,H,H+1]),H+=1,"\n"===I&&(T(),w="",C=0,o=!1);if(!S.scan(n))break;if(d=!0,E=S.scan(y)||"name",S.scan(f),"="===E?(M=S.scanUntil(m),S.scan(m),S.scanUntil(r)):"{"===E?(M=S.scanUntil(a),S.scan(g),S.scanUntil(r),E="&"):M=S.scanUntil(r),!S.scan(r))throw new Error("Unclosed tag at "+S.pos);if(L=">"==E?[E,M,H,S.pos,w,C,o]:[E,M,H,S.pos],C++,u.push(L),"#"===E||"^"===E)i.push(L);else if("/"===E){if(!(B=i.pop()))throw new Error('Unopened section "'+M+'" at '+H);if(B[1]!==M)throw new Error('Unclosed section "'+B[1]+'" at '+H)}else"name"===E||"{"===E||"&"===E?p=!0:"="===E&&x(M)}if(T(),B=i.pop())throw new Error('Unclosed section "'+B[1]+'" at '+S.pos);return function(e){for(var t,n=[],r=n,a=[],o=0,l=e.length;o<l;++o)switch((t=e[o])[0]){case"#":case"^":r.push(t),a.push(t),r=t[4]=[];break;case"/":a.pop()[5]=t[2],r=a.length>0?a[a.length-1][4]:n;break;default:r.push(t)}return n}(function(e){for(var t,n,r=[],a=0,o=e.length;a<o;++a)(t=e[a])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}(u))}(e,t),a&&n.set(r,o)),o},C.prototype.render=function(e,t,n,r){var a=this.getConfigTags(r),o=this.parse(e,a),l=t instanceof w?t:new w(t,void 0);return this.renderTokens(o,l,n,e,r)},C.prototype.renderTokens=function(e,t,n,r,a){for(var o,l,i,s="",u=0,c=e.length;u<c;++u)i=void 0,"#"===(l=(o=e[u])[0])?i=this.renderSection(o,t,n,r,a):"^"===l?i=this.renderInverted(o,t,n,r,a):">"===l?i=this.renderPartial(o,t,n,a):"&"===l?i=this.unescapedValue(o,t):"name"===l?i=this.escapedValue(o,t,a):"text"===l&&(i=this.rawValue(o)),void 0!==i&&(s+=i);return s},C.prototype.renderSection=function(e,t,n,r,a){var o=this,s="",u=t.lookup(e[1]);if(u){if(l(u))for(var c=0,d=u.length;c<d;++c)s+=this.renderTokens(e[4],t.push(u[c]),n,r,a);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)s+=this.renderTokens(e[4],t.push(u),n,r,a);else if(i(u)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(t.view,r.slice(e[3],e[5]),(function(e){return o.render(e,t,n,a)})))&&(s+=u)}else s+=this.renderTokens(e[4],t,n,r,a);return s}},C.prototype.renderInverted=function(e,t,n,r,a){var o=t.lookup(e[1]);if(!o||l(o)&&0===o.length)return this.renderTokens(e[4],t,n,r,a)},C.prototype.indentPartial=function(e,t,n){for(var r=t.replace(/[^ \t]/g,""),a=e.split("\n"),o=0;o<a.length;o++)a[o].length&&(o>0||!n)&&(a[o]=r+a[o]);return a.join("\n")},C.prototype.renderPartial=function(e,t,n,r){if(n){var a=this.getConfigTags(r),o=i(n)?n(e[1]):n[e[1]];if(null!=o){var l=e[6],s=e[5],u=e[4],c=o;0==s&&u&&(c=this.indentPartial(o,u,l));var d=this.parse(c,a);return this.renderTokens(d,t,n,c,r)}}},C.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},C.prototype.escapedValue=function(e,t,n){var r=this.getConfigEscape(n)||k.escape,a=t.lookup(e[1]);if(null!=a)return"number"==typeof a&&r===k.escape?String(a):r(a)},C.prototype.rawValue=function(e){return e[1]},C.prototype.getConfigTags=function(e){return l(e)?e:e&&"object"==typeof e?e.tags:void 0},C.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!l(e)?e.escape:void 0};var k={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){T.templateCache=e},get templateCache(){return T.templateCache}},T=new C;k.clearCache=function(){return T.clearCache()},k.parse=function(e,t){return T.parse(e,t)},k.render=function(e,t,n,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+((l(a=e)?"array":typeof a)+'" was given as the first argument for mustache#render(template, view, partials)'));var a;return T.render(e,t,n,r)},k.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return p[e]}))},k.Scanner=b,k.Context=w,k.Writer=C;var x=k;const H={};H.get={innerHTML:e=>e.innerHTML,textContent:e=>e.textContent,value:e=>e.value,template:e=>{let t=`[data-for='${e.id||e.name}']`,n=document.querySelector(t).innerHTML;return x.render(n,{})}},H.set={innerHTML:(e,t)=>(e.innerHTML=t,`target HTML is now ${t}`),textContent:(e,t)=>(e.textContent=t,`target text is now ${t}`),value:(e,t)=>(e.value=t,`target value is now ${t}`)},H.add={innerHTML:(e,t)=>{e.innerHTML=e.innerHTML+t},textContent:(e,t)=>{e.textContent=e.textContent+t},value:(e,t)=>{e.value=e.value+t}};const E=()=>{var e;null===(e=document.getElementById("ModalWrapper"))||void 0===e||e.remove()};H.modal=e=>{M.click.closeModal=M.click.closeModal||E;let t=`<div data-click="closeModal" id="ModalContent">${e}</div>`,n=document.createElement("div");n.id="ModalWrapper",n.dataset.click="closeModal",n.innerHTML=t,document.body.appendChild(n)},H.alert=e=>{let t=`<h1>Alert</h1><hr><div id="Alert">${e}<hr><button data-click="closeModal">Okay</button></div>`;H.modal(t)},H.warning=e=>{let t=`<h1>Warning</h1><hr><div id="Warning">${e}<hr><button data-click="closeModal">Okay</button></div>`;return H.modal(t),!1},H.confirm=(e,t,n)=>{let r=`<h1>Confirm</h1><hr>\n                    <div id="Confirm">${e}<hr>\n                    <button data-click="confirmYes">Yes</button>\n                    <button data-click="confirmNo">No</button>\n                    </div>`;M.click.confirmYes=()=>{E(),null==t||t()},M.click.confirmNo=()=>{E(),null==n||n()},H.modal(r)},H.textInput=e=>{M.click.processTextInput=t=>{let n=document.getElementById("TextInput").value;E(),e.call(t.target,n)},H.modal('<h2>Input Text</h2>\n                    <textarea id="TextInput" class="modal-input">Copy/Paste Here</textarea>\n                    <hr>\n                    <button data-click="processTextInput">Continue</button>\n                    ')};const M={click:{},change:{},keyup:{},actions:{}},I=(e,t,n)=>{var r;let a={detail:t},o=new CustomEvent(e,a);null===(r=(n=null!=n?n:document).dispatchEvent)||void 0===r||r.call(n,o,a)};M.click.addToPage=()=>{if(console.log("Adding HTML..."),!B.isValid)return H.warning(B.validationError),!1;I("gadget_insert",B.htmlOutput)},M.actions.importHtml=e=>{if(!B.import(e))return H.warning("Could Not Find Table in Imported HTML"),!1;B.updateInterface()},M.click.textInput=e=>{let t=e.dataset.action;H.textInput((function(e){var n,r;null===(r=(n=M.actions)[t])||void 0===r||r.call(n,e)}))},M.click.resetTable=()=>{H.confirm("Are you sure you want to reset the table? All data will be lost.",(()=>{B.fullReset()}),null)},M.click.addColumn=e=>{var t;B.columns>=10&&H.alert("Having more than 10 columns is not recommended.");let n=null!==(t=e.dataset.column)&&void 0!==t?t:null;n=null!=n?parseInt(n)+1:null,B.addColumn(n),B.updateInterface(["Header","Body"])},M.click.addRow=e=>{var t;B.rows>=30&&H.alert("Tables this large can be difficult to read. Consider using multiple tables instead.");let n=null!==(t=e.dataset.row)&&void 0!==t?t:null;n=null!=n?parseInt(n)+1:null,B.addRow(n),B.updateInterface(["Body"])},M.click.removeColumn=e=>{if(1===B.columns)return H.warning("You must have at least 1 column.");B.removeColumn(e.dataset.column),B.updateInterface(["Header","Body"])},M.click.removeRow=e=>{if(1===B.rows)return H.warning("You must have at least 1 row.");B.removeRow(e.dataset.row),B.updateInterface(["Body"])},M.keyup.syncColumns=e=>{var t;let n=null!==(t=e.value)&&void 0!==t?t:1,r=B.columns,a=0;if(n==r)return!1;if(n>r)for(a=r;a<n;a++)B.addColumn();if(n<r)for(a=r;a>n;a--)B.removeColumn();console.log("Columns Synced")},M.keyup.syncRows=e=>{var t;let n=null!==(t=e.value)&&void 0!==t?t:1,r=B.rows,a=0;if(n==r)return!1;if(n>r)for(a=r;a<n;a++)B.addRow();if(n<r)for(a=r;a>n;a--)B.removeRow();console.log("Rows Synced")},M.change.syncColumns=e=>{M.keyup.syncColumns(e)},M.change.syncRows=M.keyup.syncRows,M.click.insertIntoEditor=e=>{},M.change.syncHeading=e=>{let t=e.dataset.location.split(",");B.updateTableHead(t[1],e.value),B.updateInterface(["Header"])},M.change.syncValue=e=>{let t=e.dataset.location.split(",");B.updateTableBody(t[0],t[1],e.value)},M.keyup.syncCaption=e=>{B.caption=e.value,B.updateInterface(["Caption"])},M.click.getHtmlCode=()=>{let e=`<textarea class='embed'>${B.htmlOutput}</textarea>`;H.modal(e)},M.click.previewTable=()=>{H.modal(B.htmlOutput)},M.keyup.syncDefaultValue=e=>{B.defaultNewValue=e.value},M.click.toggleFor=e=>{var t;let n=null!==(t=e.dataset.for)&&void 0!==t?t:"body";if(n=document.querySelector(n),!n instanceof HTMLElement)return!1;n.classList.toggle("hidden")};class L{stop(){return this.result=performance.now()-this.start,this}get detailedResults(){return`Task "${this.name}" executed in ${this.result} ms.`}constructor(e){this.name=e,this.start=performance.now(),this.result=0}}const B=new class{get isValid(){return this.caption.length<=0?(this.validationError="The caption cannot be blank.",!1):this.tableHeading.length<1?(this.validationError="The table must have a header row.",!1):!(this.tableBody.length<1)||(this.validationError="The table most have content.",!1)}get element(){return document.getElementById(this.tableId)}get columns(){return this.tableHeading.length}get rows(){return this.tableBody.length}get tdTemplate(){var e;if(this.templates.td)return this.templates.td;let t=`.td[data-template-for="${this.tableId}"]`,n=null===(e=document.querySelector(t))||void 0===e?void 0:e.innerHTML;return this.templates.td=n,n}get thTemplate(){var e;if(this.templates.th)return this.templates.th;let t=`.th[data-template-for="${this.tableId}"]`,n=null===(e=document.querySelector(t))||void 0===e?void 0:e.innerHTML;return this.templates.th=n,n}get rowTemplate(){var e;if(this.templates.row)return this.templates.row;let t=`.row[data-template-for="${this.tableId}"]`,n=null===(e=document.querySelector(t))||void 0===e?void 0:e.innerHTML;return this.templates.row=n,n}import(e){var t,n,r;let a=document.createElement("div");var o;if(document.body.appendChild(a),a.style.visibility="hidden",a.innerHTML=e,(null!==(o=null===(t=a.querySelector("table"))||void 0===t||null===(n=t.children)||void 0===n?void 0:n.length)&&void 0!==o?o:0)<=0)return!1;var l;let i=null!==(l=null===(r=a.querySelector("caption"))||void 0===r?void 0:r.textContent)&&void 0!==l?l:"No Caption",s=Array.from(a.querySelectorAll("th")).map((e=>e.textContent)),u=0,c=Array.from(a.querySelectorAll("tr")).map(((e,t)=>{let n=Array.from(e.querySelectorAll("td")).map((e=>e.textContent));return u=u<n.length?n.length:u,n})).filter((e=>e.length>0));if(u=u<s.length?s.length:u,c.forEach((e=>{let t=u-e.length,n=0;for(;n<t;n++)e.push(this.defaultNewValue)})),s.length<u){let e=u-s.length,t=0;for(;t<e;t++)s.push("Heading")}return a.parentElement.removeChild(a),this.caption=i,this.tableHeading=s,this.tableBody=c,!0}fullReset(){this.caption="Table Caption",this.tableHeading=["Heading"],this.tableBody=[["Value"]],this.defaultNewValue="New Value",this.updateInterface()}addColumn(e){e=null!=e?e:this.tableHeading.length,this.tableHeading.splice(e,0,"New Heading"),this.tableBody.forEach(((t,n)=>{t.splice(e,0,this.defaultNewValue)}))}addRow(e){e=null!=e?e:this.tableBody.length;let t=[];this.tableHeading.forEach(((e,n)=>{t.push(this.defaultNewValue)})),this.tableBody.splice(e,0,t)}removeColumn(e){this.tableHeading.splice(e,1),this.tableBody.forEach(((t,n)=>{t.splice(e,1)}))}removeRow(e){this.tableBody.splice(e,1)}get htmlOutput(){let e=this.tableHeading.map((e=>`\n           <th>${e}</th>`)).join(" "),t="";return this.tableBody.forEach((e=>{t+="\n      <tr>"+e.map((e=>`\n         <td>${e}</td>`)).join(" ")+"\n     </tr>"})),` \n<table>\n    <caption>${this.caption}</caption>\n    <thead>\n        <tr>${e}\n        </tr>\n    </thead>\n    <tbody>${t}\n    </tbody>\n</table>`}_calcNumber(e,t){let n=t+this.columns*e+1;return n}_uiCaption(){this.element.querySelector("caption").textContent=this.caption}_uiHeader(){let e=this._calcNumber.bind(this),t=this.tableHeading.map(((t,n)=>{let r={column:n,number:e(0,n),row:0,value:t,type:"Heading",first:0===n};return x.render(this.thTemplate,r)})).join("");this.element.querySelector("thead").innerHTML=t}_uiBody(){let e="",t=this.columns,n=this._calcNumber.bind(this);this.tableBody.forEach(((r,a)=>{let o={rowContent:r.map(((e,t)=>{let r={column:t,row:a,number:n(a,t),value:e,type:"Value"};return r.first=0==t,x.render(this.tdTemplate,r)})).join(""),row:a,nextRow:a+1,columns:t};e+=x.render(this.rowTemplate,o)})),this.element.querySelector("tbody").innerHTML=e}updateInterface(e){let t=new L("Update UI"),n=0,r=(e=null!=e?e:["Caption","Header","Body"]).length;for(;n<r;n++){let t=`_ui${null==e?void 0:e[n]}`;(null===this||void 0===this?void 0:this[t]).bind(this).call()}console.log(t.stop().detailedResults),t.result>50&&H.alert("The performance of this application is lower than normal. This table may be too large.")}updateTableHead(e,t){var n;(null===(n=this.tableHeading)||void 0===n?void 0:n[e])&&(this.tableHeading[e]=t)}updateTableBody(e,t,n){var r,a;(null===(r=this.tableBody)||void 0===r||null===(a=r[e])||void 0===a?void 0:a[t])&&(this.tableBody[e][t]=n)}constructor(e){this.tableId=e,this.caption="Table Caption",this.tableHeading=["Heading"],this.tableBody=[["Value"]],this.defaultNewValue="New Value",this.templates={}}}("MainTable");document.body.addEventListener("keyup",(e=>{var t,n;let r=e.target;null===(n=(t=M.keyup)[r.dataset.keyup])||void 0===n||n.call(t,r,e)})),document.body.addEventListener("change",(e=>{var t,n;let r=e.target;null===(n=(t=M.change)[r.dataset.change])||void 0===n||n.call(t,r,e)})),document.body.addEventListener("click",(e=>{var t,n;let r=e.target;null===(n=(t=M.click)[r.dataset.click])||void 0===n||n.call(t,r,e)})),document.body.onload=()=>{B.updateInterface()},!0===window.isGadget&&a("1kMMC").then((e=>{const t=e.default;"loading"!=document.readyState?t():document.addEventListener("DOMContentLoaded",t)}));
//# sourceMappingURL=index.44a8a3cd.js.map
